(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(t,e,r){},21:function(t,e,r){},22:function(t,e,r){},24:function(t,e,r){},25:function(t,e,r){},26:function(t,e,r){},27:function(t,e,r){"use strict";r.r(e);var n=r(2),o=r.n(n),i=r(11),c=r.n(i),a=(r(20),r(3)),s=r(8),d=r(4),b=(r(21),r(15)),u=(r(22),r(1)),j=["label"],l=function(t){var e=t.label,r=void 0===e?"I am a button":e,n=Object(b.a)(t,j);return Object(u.jsx)("button",Object(a.a)(Object(a.a)({className:"button"},n),{},{children:r}))},h=(r(24),r(25),r(12)),f=function(t){var e,r=t.coordinateText,n=t.robot,o=t.setActive;return Object(u.jsxs)("span",{className:"gridcell",children:[r,n&&Object(u.jsx)(h.a,{onClick:function(){return o(n.id,"active",!0)},className:"".concat((e=n.direction,e.toLowerCase())," robot robot").concat(n.id)})]})},O="The active robot is now robot ",v="The proposed grid cell is already occupied",w="The argument passed in appears to be incorrect",T='DIRECTIONS can only be "NORTH", "SOUTH", "EAST" or "WEST"',x='"PLACE", "MOVE", "LEFT", "RIGHT", "REPORT" are the only valid commands',p='PLACE commands should be in the following format "PLACE 1,2,NORTH"',E="You cannot create any more robots",m="There is no active robot",g="Active robot is missing a direction",y="Instruction would result in the robot being outside of the grid",N=function(t){var e=t.robots,r=void 0===e?[]:e,n=t.rowNumber,o=t.setActive;return Object(u.jsx)("div",{className:"row",children:Object.keys(Array.from(Array(5))).map((function(t,e){return Object(u.jsx)(f,{coordinateText:"".concat(e,", ").concat(n),robot:(i=e,c=n,r.find((function(t){return t.coordinate.x===i&&t.coordinate.y===c}))),setActive:o},"".concat(e,", ").concat(n));var i,c}))})},A=function(t){for(var e=t.robots,r=t.setActive,n=[],o=4;o>-1;o--)n.push(Object(u.jsx)(N,{rowNumber:o,robots:e,setActive:r},o));return Object(u.jsx)("div",{className:"grid",children:n})},S=(r(26),function(t){var e=t.headerRowType,r=void 0===e?"false":e,n=t.data;return Object(u.jsx)(u.Fragment,{children:r?Object(u.jsx)("th",{className:"tableHeader",children:n}):Object(u.jsx)("td",{className:"tableData",children:n})})}),R=r(13),C=r(14),k=function(t){var e=t.tableData,r=void 0===e?[]:e,n=t.tableHeadings,o=void 0===n?[]:n,i=t.setActive,c=o.map((function(t,e){return Object(u.jsx)(S,{data:t,headerRowType:!0},e)})),a=r.map((function(t,e){return Object(u.jsxs)("tr",{className:"robot".concat(t.id),children:[Object(u.jsx)(S,{data:t.id,headerRowType:!1},"".concat(t.id,"-id")),Object(u.jsx)(S,{data:JSON.stringify(t.coordinate),headerRowType:!1},"".concat(t.id,"-coordinate")),Object(u.jsx)(S,{data:t.direction,headerRowType:!1},"".concat(t.id,"-direction")),Object(u.jsx)(S,{data:t.active?Object(u.jsx)(R.a,{}):Object(u.jsx)(C.a,{onClick:function(){return i(t.id,"active",!0)}}),headerRowType:!1},"".concat(t.id,"-active"))]},e)}));return Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:c})}),Object(u.jsx)("tbody",{className:"table",children:a})]})},H=function(t){var e=Object.assign({},t);return Object(u.jsx)("span",{children:Object(u.jsx)("input",Object(a.a)({},e))})},I=Object.freeze({NORTH:"NORTH",EAST:"EAST",SOUTH:"SOUTH",WEST:"WEST"}),U=function(t){var e=t.x,r=t.y;return!isNaN(e)&&!isNaN(r)&&(!(e<0||r<0)&&!(e>4||r>4))},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=e.x,n=e.y;if(!Array.isArray(t))throw new Error("Not an array");var o=t.filter((function(t){return t.coordinate.x===Number(r)&&t.coordinate.y===Number(n)}));return o.length>0};function W(t,e,r,n){this.id=t,this.coordinate=e,this.direction=r,this.active=n}var D=function(t){var e=t.activeRobot,r=t.displayToast,n=t.updateActiveRobot,o=t.robotArray;if(!e)return null;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Active Robot Commands"}),Object(u.jsx)(l,{label:"Move Robot Forward",onClick:function(){try{var t=function(t){if(!t)throw new Error(m);if(!t.direction)throw new Error(g);var e=Object(a.a)({},t.coordinate);switch(t.direction){case I.NORTH:e.y++;break;case I.EAST:e.x++;break;case I.SOUTH:e.y--;break;case I.WEST:e.x--;break;default:throw new Error(T)}if(!U(e))throw new Error(y);return e}(e);if(L(o,t))throw new Error(v);e.coordinate=Object(a.a)({},t),n(e.id,"coordinate",e.coordinate)}catch(i){r(i.message)}}}),Object(u.jsx)(l,{label:"Turn Robot Left",onClick:function(){try{!function(t){if(!t)throw new Error("Current robot is not defined");switch(t.direction){case I.NORTH:t.direction=I.WEST;break;case I.EAST:t.direction=I.NORTH;break;case I.SOUTH:t.direction=I.EAST;break;case I.WEST:t.direction=I.SOUTH;break;default:throw new Error("Active robot direction is not defined")}}(e),n(e.id,"direction",e.direction)}catch(t){r(t.message)}}}),Object(u.jsx)(l,{label:"Turn Robot Right",onClick:function(){try{!function(t){if(!t)throw new Error("Current robot is not defined");switch(t.direction){case I.NORTH:t.direction=I.EAST;break;case I.EAST:t.direction=I.SOUTH;break;case I.SOUTH:t.direction=I.WEST;break;case I.WEST:t.direction=I.NORTH;break;default:throw new Error("Current direction is not defined")}}(e),n(e.id,"direction",e.direction)}catch(t){r(t.message)}}})]})},F=function(t){var e=t.split(",");if(3!==e.length)throw new Error(p);var r=parseInt(e[0]),n=parseInt(e[1]),o=e[2].toUpperCase();if(isNaN(r)||isNaN(n))throw new Error(p);if(!(o in I))throw new Error(p);return[{x:r,y:n},o]},P=function(t,e){var r=F(t),n=Object(d.a)(r,1)[0];if(!U(n))throw new Error(y);if(L(e,n))throw new Error(v);return!0},J=r(10);var M=function(){var t=Object(n.useState)([]),e=Object(d.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)(""),c=Object(d.a)(i,2),b=c[0],j=c[1],h=Object(n.useState)(""),f=Object(d.a)(h,2),v=f[0],T=f[1],m=function(t,e,n){try{var i=Object(s.a)(r),c=i.filter((function(e){return e.id===t})),d=i.filter((function(e){return e.id!==t}));"active"===e&&d.forEach((function(t){t.active=!1}));var b=Object(a.a)({},c[0]);b[e]=n;var u=[].concat(Object(s.a)(d),[b]);u.sort((function(t,e){return t.id-e.id})),o(u),"active"===e&&v.id!==t&&g(O+t,"\u2714\ufe0f"),T(b)}catch(j){return void g(j.message)}},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u26a0\ufe0f";J.b.error(t,{icon:e})};return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)("div",{children:Object(u.jsx)(J.a,{toastOptions:{duration:2e3}})}),Object(u.jsx)("h1",{children:"Robot"}),Object(u.jsx)(k,{tableHeadings:["ID","Coordinate","Direction","Active"],tableData:r,setActive:m}),Object(u.jsx)(H,{placeholder:"Enter Starting Instructions",onChange:function(t){j(t.target.value)},value:b}),Object(u.jsx)(l,{label:"Create New Robot",onClick:function(){try{!function(t){if(t>=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:5))throw new Error(E)}(r.length),function(t,e){if(!t||"string"!==typeof t)throw new Error(w);var r=t.split(" ");if(r.length>2)throw new Error(x);if(2!==r.length||"PLACE"!==r[0].toUpperCase())throw new Error(p);P(r[1],e)}(b,r);var t=function(t){var e=t.instruction,r=t.id,n=t.active,o=e.split(" "),i=Object(d.a)(o,2)[1],c=F(i),a=Object(d.a)(c,2);return new W(r,a[0],a[1],n)}({instruction:b,id:r.length+1,active:!v});o((function(e){return[].concat(Object(s.a)(e),[t])})),j(""),!v&&T(t)}catch(e){return void g(e.message)}},disabled:!b}),Object(u.jsx)(D,{activeRobot:v,displayToast:g,updateActiveRobot:m,robotArray:r}),Object(u.jsx)(A,{robots:r,setActive:m})]})},B=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,28)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;r(t),n(t),o(t),i(t),c(t)}))};c.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(M,{})}),document.getElementById("root")),B()}},[[27,1,2]]]);
//# sourceMappingURL=main.dc07e4e6.chunk.js.map